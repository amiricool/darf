<execution>
  <id>copy-ems-evolutions</id>
  <phase>prepare-package</phase>
  <goals><goal>run</goal></goals>
  <configuration>
    <target name="add-ems-evolutions-into-unzip"
            xmlns:if="ant:if" xmlns:unless="ant:unless">

      <property name="ems.evolutions.dir"
                value="${basedir}/../target/package/ems_evolutions"/>

      <!-- Détecte la présence du dossier -->
      <available file="${ems.evolutions.dir}" type="dir"
                 property="ems.evolutions.exists"/>

      <!-- Log si absent -->
      <echo unless:set="ems.evolutions.exists"
            message="INFO: Skipping unzip for 'ems_evolutions' — directory '${ems.evolutions.dir}' not found."/>

      <!-- Unzip si présent -->
      <mkdir dir="${ems.evolutions.dir}" if:set="ems.evolutions.exists"/>
      <unzip if:set="ems.evolutions.exists"
             src="${archive}"
             dest="${ems.evolutions.dir}"
             overwrite="true"/>
    </target>
  </configuration>
</execution>